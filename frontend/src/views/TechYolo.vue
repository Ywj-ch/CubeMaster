<template>
  <div class="tech-doc-page yolo-doc">
    <div class="page-container">
      <!-- è¿”å› About é¡µé¢æŒ‰é’® -->
      <header class="tech-doc-header">
        <button @click="goBackToAbout" class="minimal-back-btn">
          <el-icon><ArrowLeft /></el-icon>
          <span>BACK TO ABOUT</span>
        </button>
      </header>

      <!-- Hero Section -->
      <section class="hero-section" v-animate>
        <div class="glow-bg glow-top-right"></div>
        <div class="glow-bg glow-bottom-left"></div>

        <div class="hero-content">
          <div class="badge-pill">
            <span class="pulse-dot"></span>
            <span>è®¡ç®—æœºè§†è§‰ Â· ç›®æ ‡æ£€æµ‹</span>
          </div>

          <h1 class="hero-title">
            YOLO ç›®æ ‡æ£€æµ‹<br />
            <span class="gradient-text">ä»è®ºæ–‡ç²¾è¯»åˆ°å·¥ç¨‹å®è·µ</span>
          </h1>

          <p class="hero-subtitle">
            æ·±å…¥ç†è§£ YOLOv1 ç®—æ³•åŸç†ï¼Œç»“åˆ CubeMaster é­”æ–¹è¯†åˆ«é¡¹ç›®å±•ç¤ºå®Œæ•´å®ç°
          </p>

          <div class="stats-pills">
            <div class="stat-pill">
              <span class="dot-indicator blue"></span>
              <span>æ¨ç†é€Ÿåº¦ï¼š~15ms/å›¾åƒ</span>
            </div>
            <div class="stat-pill">
              <span class="dot-indicator green"></span>
              <span>å‡†ç¡®ç‡ï¼š98.2% (éªŒè¯é›†)</span>
            </div>
            <div class="stat-pill">
              <span class="dot-indicator purple"></span>
              <span>è®­ç»ƒæ•°æ®ï¼š200å¼ æ ‡æ³¨å›¾åƒ</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Research Background & Motivation -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">ç ”ç©¶èƒŒæ™¯ä¸åŠ¨æœº</h2>
        <div class="research-background-card">
          <div class="background-content">
            <h3>
              <span class="background-icon">ğŸ”„</span> ä¼ ç»Ÿç›®æ ‡æ£€æµ‹æ–¹æ³•çš„ç“¶é¢ˆ
            </h3>
            <p>
              <strong>ä¸¤é˜¶æ®µæ£€æµ‹å™¨ï¼ˆå¦‚ R-CNN ç³»åˆ— / DPMï¼‰</strong>ï¼š
              éœ€è¦å…ˆæå–å€™é€‰åŒºåŸŸï¼ˆRegion
              Proposalsï¼‰ï¼Œå†è¿›è¡Œåˆ†ç±»ï¼Œæœ€åè¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰å’Œè¾¹ç•Œæ¡†å¾®è°ƒã€‚
            </p>
            <p>
              <strong>ä¸»è¦ç¼ºç‚¹</strong
              >ï¼šæµç¨‹å¤æ‚ï¼ˆå¤šé˜¶æ®µï¼‰ï¼Œå„ä¸ªç»„ä»¶éœ€è¦å•ç‹¬è®­ç»ƒï¼Œå¯¼è‡´<strong>æ£€æµ‹é€Ÿåº¦æ…¢</strong>ï¼Œéš¾ä»¥æ»¡è¶³å®æ—¶åº”ç”¨éœ€æ±‚ã€‚
            </p>

            <h3><span class="background-icon">ğŸš€</span> YOLO çš„é©å‘½æ€§çªç ´</h3>
            <p>
              <strong>æ ¸å¿ƒæ€æƒ³</strong
              >ï¼šå»é™¤ç¹ççš„å€™é€‰æ¡†æå–æ­¥éª¤ï¼Œç›´æ¥å°†æ•´å¼ å›¾è¾“å…¥ä¸€ä¸ªå•ç‹¬çš„å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ï¼Œå®ç°<strong>ç»Ÿä¸€çš„ã€å®æ—¶çš„</strong>ç›®æ ‡æ£€æµ‹æ¡†æ¶ã€‚
            </p>
            <p>
              <strong>è®ºæ–‡æ ‡é¢˜</strong>ï¼š<em
                >You Only Look Once: Unified, Real-Time Object Detection</em
              >
              (CVPR 2016)
            </p>
            <p>
              <strong>ä¸€å¥è¯æ€»ç»“</strong
              >ï¼šâ€œä½ åªéœ€è¦çœ‹ä¸€æ¬¡â€â€”â€”å°†ç›®æ ‡æ£€æµ‹ä»»åŠ¡ä»ä¼ ç»Ÿçš„â€œåˆ†ç±»é—®é¢˜â€å·§å¦™åœ°è½¬æ¢ä¸ºä¸€ä¸ª<strong>å•ä¸€çš„ç«¯åˆ°ç«¯å›å½’é—®é¢˜</strong>ï¼Œç›´æ¥ä»å®Œæ•´å›¾åƒä¸­ä¸€æ¬¡æ€§é¢„æµ‹å‡ºè¾¹ç•Œæ¡†çš„ä½ç½®å’Œç±»åˆ«æ¦‚ç‡ã€‚
            </p>
          </div>
        </div>
      </section>

      <!-- YOLOv1 Core Principles -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">YOLOv1 æ ¸å¿ƒåŸç†</h2>
        <div class="core-principles-card">
          <div class="principles-grid">
            <div class="principle-item">
              <div class="principle-icon">ğŸ”²</div>
              <h3>ç½‘æ ¼åˆ’åˆ† (Grid Cell)</h3>
              <p>
                å°†è¾“å…¥å›¾åƒï¼ˆ448 Ã— 448ï¼‰åˆ’åˆ†ä¸º <strong>S Ã— S</strong>ï¼ˆé»˜è®¤
                S=7ï¼‰çš„ç½‘æ ¼ã€‚ å¦‚æœä¸€ä¸ªç‰©ä½“çš„<strong>ä¸­å¿ƒç‚¹</strong>è½å…¥æŸä¸ª Grid
                Cell å†…ï¼Œè¯¥ Grid Cell å°±è´Ÿè´£æ£€æµ‹è¯¥ç‰©ä½“ã€‚
              </p>
            </div>
            <div class="principle-item">
              <div class="principle-icon">ğŸ“Š</div>
              <h3>é¢„æµ‹å¼ é‡ (Output Tensor)</h3>
              <p>
                æ¯ä¸ª Grid Cell é¢„æµ‹ <strong>B</strong> ä¸ªè¾¹ç•Œæ¡†ï¼ˆé»˜è®¤
                B=2ï¼‰åŠå…¶ç½®ä¿¡åº¦ï¼Œå¤–åŠ  <strong>C</strong> ä¸ªç±»åˆ«æ¦‚ç‡ï¼ˆVOC
                æ•°æ®é›†ä¸­ C=20ï¼‰ã€‚ è¾“å‡ºç»´åº¦ï¼š<strong>S Ã— S Ã— (B Ã— 5 + C)</strong>
              </p>
            </div>
            <div class="principle-item">
              <div class="principle-icon">ğŸ¯</div>
              <h3>ç½®ä¿¡åº¦å®šä¹‰</h3>
              <p>
                ç½®ä¿¡åº¦ =
                <strong>Pr(Object) Ã— IOU<sub>pred</sub><sup>truth</sup></strong>
                <br />å³ï¼šç‰©ä½“å­˜åœ¨æ¦‚ç‡ Ã— é¢„æµ‹æ¡†ä¸çœŸå®æ¡†çš„äº¤å¹¶æ¯”ã€‚
              </p>
            </div>
            <div class="principle-item">
              <div class="principle-icon">ğŸ“ˆ</div>
              <h3>åˆ†ç±»å¾—åˆ†è®¡ç®—</h3>
              <p>æµ‹è¯•é˜¶æ®µæœ€ç»ˆå¾—åˆ†ï¼š</p>
              <div class="formula-inline">
                <code
                  >Pr(Class<sub>i</sub>|Object) Ã— Pr(Object) Ã— IOU<sub>pred</sub
                  ><sup>truth</sup></code
                >
                <span class="formula-eq">=</span>
                <code
                  >Pr(Class<sub>i</sub>) Ã— IOU<sub>pred</sub
                  ><sup>truth</sup></code
                >
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Network Architecture -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">ç½‘ç»œæ¶æ„</h2>
        <div class="architecture-card">
          <div class="architecture-image-full">
            <img
              src="/images/yolov1-architecture.png"
              alt="YOLOv1 ç½‘ç»œç»“æ„å›¾"
              class="architecture-image"
              @click="openImagePreview('/images/yolov1-architecture.png')"
              style="cursor: pointer"
            />
            <div class="image-caption">å›¾3: YOLOv1 ç½‘ç»œç»“æ„ (CVPR 2016)</div>
          </div>
          <div class="architecture-details-grid">
            <div class="architecture-detail-item">
              <h3><span class="detail-icon">ğŸ§ </span> æ¶æ„ç‰¹ç‚¹</h3>
              <ul>
                <li><strong>çµæ„Ÿæ¥æº</strong>ï¼šåŸºäº GoogLeNet ä¿®æ”¹</li>
                <li><strong>å±‚æ•°æ„æˆ</strong>ï¼š24 å±‚å·ç§¯ + 2 å±‚å…¨è¿æ¥</li>
                <li><strong>æ¿€æ´»å‡½æ•°</strong>ï¼šLeaky ReLUï¼ˆÎ±=0.1ï¼‰</li>
                <li><strong>Fast YOLO</strong>ï¼š9 å±‚å·ç§¯ï¼Œ155 FPS</li>
              </ul>
            </div>
            <div class="architecture-detail-item">
              <h3><span class="detail-icon">âš™ï¸</span> è¾“å‡ºå±‚è®¾è®¡</h3>
              <p>PASCAL VOC æ•°æ®é›†ï¼ˆS=7, B=2, C=20ï¼‰æœ€ç»ˆè¾“å‡ºï¼š</p>
              <p class="output-tensor"><strong>7 Ã— 7 Ã— 30</strong> å¼ é‡</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Loss Function -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">æŸå¤±å‡½æ•°è¯¦è§£</h2>
        <div class="loss-function-card">
          <div class="loss-function-content">
            <h3><span class="formula-icon">ğŸ“</span> æŸå¤±å‡½æ•°ç»„æˆ</h3>
            <p>
              YOLOv1 å°†æ£€æµ‹è§†ä¸ºå›å½’é—®é¢˜ï¼Œé‡‡ç”¨<strong>å‡æ–¹å·®è¯¯å·®</strong>ã€‚
              å¼•å…¥æƒé‡å‚æ•°å¹³è¡¡ä¸åŒè¯¯å·®ï¼š
              <strong>Î»<sub>coord</sub>=5</strong>ï¼ˆåæ ‡æƒé‡ï¼‰ã€
              <strong>Î»<sub>noobj</sub>=0.5</strong>ï¼ˆèƒŒæ™¯æŠ‘åˆ¶ï¼‰ã€‚
            </p>

            <div class="formula-total-box">
              <h4>å®Œæ•´æŸå¤±å‡½æ•°</h4>
              <div class="formula-total">
                <div class="formula-line">
                  <span class="formula-var">Loss</span>
                  <span class="formula-eq">=</span>
                  <span class="formula-expr"
                    >Î»<sub>coord</sub> Ã— Î£[(x - xÌ‚)Â² + (y - Å·)Â²]</span
                  >
                </div>
                <div class="formula-line indent">
                  <span class="formula-plus">+</span>
                  <span class="formula-expr"
                    >Î»<sub>coord</sub> Ã— Î£[(âˆšw - âˆšÅµ)Â² + (âˆšh - âˆšÄ¥)Â²]</span
                  >
                </div>
                <div class="formula-line indent">
                  <span class="formula-plus">+</span>
                  <span class="formula-expr">Î£(C - Äˆ)Â²</span>
                </div>
                <div class="formula-line indent">
                  <span class="formula-plus">+</span>
                  <span class="formula-expr"
                    >Î»<sub>noobj</sub> Ã— Î£(C - Äˆ)Â²</span
                  >
                </div>
                <div class="formula-line indent">
                  <span class="formula-plus">+</span>
                  <span class="formula-expr">Î£Î£(p(c) - pÌ‚(c))Â²</span>
                </div>
              </div>
            </div>

            <div class="formula-details">
              <h4>å„éƒ¨åˆ†è¯¦è§£</h4>
              <div class="formula-parts">
                <div class="formula-part">
                  <span class="part-num">1</span>
                  <div class="part-content">
                    <span class="part-label">ä¸­å¿ƒç‚¹åæ ‡è¯¯å·®</span>
                    <code class="part-formula"
                      >Î»_coord Ã— Î£[(x - xÌ‚)Â² + (y - Å·)Â²]</code
                    >
                  </div>
                </div>
                <div class="formula-part">
                  <span class="part-num">2</span>
                  <div class="part-content">
                    <span class="part-label">è¾¹ç•Œæ¡†å®½é«˜è¯¯å·®</span>
                    <code class="part-formula"
                      >Î»_coord Ã— Î£[(âˆšw - âˆšÅµ)Â² + (âˆšh - âˆšÄ¥)Â²]</code
                    >
                  </div>
                </div>
                <div class="formula-part">
                  <span class="part-num">3</span>
                  <div class="part-content">
                    <span class="part-label">å«ç‰©ä½“ç½®ä¿¡åº¦è¯¯å·®</span>
                    <code class="part-formula">Î£(C - Äˆ)Â²</code>
                  </div>
                </div>
                <div class="formula-part">
                  <span class="part-num">4</span>
                  <div class="part-content">
                    <span class="part-label">æ— ç‰©ä½“ç½®ä¿¡åº¦è¯¯å·®</span>
                    <code class="part-formula">Î»_noobj Ã— Î£(C - Äˆ)Â²</code>
                  </div>
                </div>
                <div class="formula-part">
                  <span class="part-num">5</span>
                  <div class="part-content">
                    <span class="part-label">ç±»åˆ«é¢„æµ‹è¯¯å·®</span>
                    <code class="part-formula">Î£Î£(p(c) - pÌ‚(c))Â²</code>
                  </div>
                </div>
              </div>
            </div>

            <div class="formula-notes">
              <h4>ğŸ’¡ å…³é”®è®¾è®¡è§£æ</h4>
              <ul>
                <li>
                  <strong>å®½é«˜å¼€æ ¹å·</strong
                  >ï¼šå¯¹å°æ¡†è¯¯å·®æƒ©ç½šæ›´å¤§ï¼Œé¿å…å¯¹å°ç‰©ä½“ä¸å…¬å¹³
                </li>
                <li>
                  <strong>Î»_noobj = 0.5</strong
                  >ï¼šæŠ‘åˆ¶å¤§é‡èƒŒæ™¯äº§ç”Ÿçš„å‹å€’æ€§æ¢¯åº¦ï¼Œé˜²æ­¢æ¨¡å‹å‘æ•£
                </li>
                <li>
                  <strong>æŒ‡ç¤ºå‡½æ•° ğ•€^obj</strong
                  >ï¼šè¡¨ç¤ºé¢„æµ‹æ¡†æ˜¯å¦å¯¹çœŸå®ç‰©ä½“"è´Ÿè´£"ï¼ˆIOUæœ€å¤§ï¼‰
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Advantages & Limitations -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">YOLOv1 ä¼˜ç¼ºç‚¹åˆ†æ</h2>
        <div class="advantages-limitations-card">
          <div class="advantages-section">
            <h3><span class="advantage-icon">âœ…</span> ä¼˜åŠ¿</h3>
            <div class="advantage-grid">
              <div class="advantage-item">
                <h4>é€Ÿåº¦æå¿« (Extremely Fast)</h4>
                <p>
                  åŸºç¡€ç‰ˆ 45 FPSï¼ŒFast ç‰ˆæœ¬ 155 FPSï¼Œéå¸¸é€‚åˆå®æ—¶è§†é¢‘æµæ£€æµ‹ã€‚
                </p>
              </div>
              <div class="advantage-item">
                <h4>å…¨å±€æ„Ÿå—é‡ (Global Reasoning)</h4>
                <p>
                  ä¸åŸºäºå±€éƒ¨åŒºåŸŸçš„æ–¹æ³•ä¸åŒï¼ŒYOLO
                  æ¯æ¬¡è§‚æµ‹å®Œæ•´å›¾åƒï¼ŒåŒ…å«ä¸°å¯Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒèƒŒæ™¯è¯¯æ£€ç‡ä¸åˆ° Fast
                  R-CNN çš„ä¸€åŠã€‚
                </p>
              </div>
              <div class="advantage-item">
                <h4>æ³›åŒ–èƒ½åŠ›å¼º (Generalizable)</h4>
                <p>
                  å­¦åˆ°äº†ç‰©ä½“çš„é€šç”¨ç‰¹å¾ï¼Œå½“ä»è‡ªç„¶å›¾åƒè¿ç§»åˆ°è‰ºæœ¯å“ç­‰å…¶ä»–é¢†åŸŸæ—¶ï¼Œè¡¨ç°è¿œè¶…
                  DPM å’Œ R-CNNã€‚
                </p>
              </div>
            </div>
          </div>

          <div class="limitations-section">
            <h3><span class="limitation-icon">âŒ</span> å±€é™æ€§</h3>
            <div class="limitation-grid">
              <div class="limitation-item">
                <h4>å¼ºç©ºé—´é™åˆ¶</h4>
                <p>
                  æ¯ä¸ª Grid Cell åªèƒ½é¢„æµ‹ 2 ä¸ªæ¡†ä¸”åªèƒ½å±äº 1
                  ä¸ªç±»åˆ«ï¼Œéš¾ä»¥æ£€æµ‹å¯†é›†å°ç‰©ä½“ï¼ˆé¸Ÿç¾¤ã€äººç¾¤ï¼‰ã€‚
                </p>
              </div>
              <div class="limitation-item">
                <h4>ä¸å¯»å¸¸æ¯”ä¾‹ç‰©ä½“</h4>
                <p>å¯¹è®­ç»ƒé›†æœªè§è¿‡çš„å¼‚å¸¸é•¿å®½æ¯”ç‰©ä½“ï¼Œå®šä½æ•ˆæœå·®ã€‚</p>
              </div>
              <div class="limitation-item">
                <h4>å®šä½è¯¯å·®å¤§</h4>
                <p>
                  è¿™æ˜¯ YOLOv1 çš„ä¸»è¦é”™è¯¯æ¥æºï¼Œè™½ç„¶ Loss
                  ä¸­åŠ å…¥äº†å¼€æ ¹å·å¤„ç†ï¼Œä½†ä¾ç„¶æ— æ³•å®Œç¾è§£å†³å¤§æ¡†ä¸å°æ¡†è¯¯å·®æƒé‡åˆ†é…é—®é¢˜ã€‚
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Evolution Path -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">ä» YOLOv1 åˆ° YOLOv8 æ¼”è¿›</h2>
        <div class="evolution-timeline-wrapper">
          <!-- è´¯ç©¿çº¿ -->
          <div class="evolution-line"></div>

          <div class="evolution-timeline">
            <div class="evolution-node">
              <div class="evolution-marker">
                <div class="evolution-circle">1</div>
              </div>
              <div class="evolution-content">
                <div class="evolution-card-item">
                  <div class="evolution-header">
                    <span class="evolution-year">2016</span>
                    <h3>YOLOv1ï¼šå¼€åˆ›å•é˜¶æ®µæ£€æµ‹</h3>
                  </div>
                  <div class="evolution-body">
                    <p>
                      æ‘’å¼ƒ Region
                      Proposalï¼Œç›´æ¥åˆ©ç”¨å…¨å›¾ä¿¡æ¯å›å½’ï¼Œæ€æƒ³ä¸Šçš„å·¨å¤§é£è·ƒã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="evolution-node">
              <div class="evolution-marker">
                <div class="evolution-circle">2</div>
              </div>
              <div class="evolution-content">
                <div class="evolution-card-item">
                  <div class="evolution-header">
                    <span class="evolution-year">2017</span>
                    <h3>YOLOv2 (YOLO9000)</h3>
                  </div>
                  <div class="evolution-body">
                    <p>
                      å¼•å…¥ Anchor Boxesã€å¤šå°ºåº¦è®­ç»ƒã€Darknet-19
                      éª¨å¹²ç½‘ç»œï¼Œæ˜¾è‘—æå‡ç²¾åº¦ã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="evolution-node">
              <div class="evolution-marker">
                <div class="evolution-circle">3</div>
              </div>
              <div class="evolution-content">
                <div class="evolution-card-item">
                  <div class="evolution-header">
                    <span class="evolution-year">2018</span>
                    <h3>YOLOv3</h3>
                  </div>
                  <div class="evolution-body">
                    <p>
                      å¤šå°ºåº¦ç‰¹å¾é‡‘å­—å¡”ï¼ˆFPNï¼‰ã€æ›´æ·±çš„
                      Darknet-53ã€æ›´å¥½çš„å°ç›®æ ‡æ£€æµ‹ã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="evolution-node">
              <div class="evolution-marker">
                <div class="evolution-circle">4</div>
              </div>
              <div class="evolution-content">
                <div class="evolution-card-item">
                  <div class="evolution-header">
                    <span class="evolution-year">2020</span>
                    <h3>YOLOv4/v5/v6/v7/v8</h3>
                  </div>
                  <div class="evolution-body">
                    <p>
                      æŒç»­ä¼˜åŒ–ï¼šBag of Freebiesã€Anchor-Free
                      è®¾è®¡ã€æ¨¡å‹è½»é‡åŒ–ã€å®æ—¶æ€§èƒ½æå‡ã€‚
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="evolution-summary-box">
            <h3>
              <span class="summary-icon">ğŸ”®</span> CubeMaster ä¸­çš„ YOLOv8 åº”ç”¨
            </h3>
            <p>
              é¡¹ç›®é€‰ç”¨ <strong>YOLOv8n (Nano)</strong> ç‰ˆæœ¬ï¼Œå¹³è¡¡äº†ç²¾åº¦ä¸é€Ÿåº¦ï¼Œ
              é’ˆå¯¹é­”æ–¹è‰²å—å°ç›®æ ‡æ£€æµ‹è¿›è¡Œäº†ä¸“é—¨ä¼˜åŒ–ï¼Œå¹¶ç»“åˆ HSV
              é¢œè‰²ç©ºé—´åˆ†ææå‡é¢œè‰²è¯†åˆ«é²æ£’æ€§ã€‚
            </p>
          </div>
        </div>
      </section>

      <!-- Workflow Diagram -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">CubeMaster æ£€æµ‹å·¥ä½œæµç¨‹</h2>
        <div class="workflow-horizontal">
          <div class="workflow-step-h">
            <div class="step-icon">ğŸ“·</div>
            <div class="step-info">
              <span class="step-num">01</span>
              <h4>å›¾åƒé‡‡é›†</h4>
              <p>æ‹æ‘„é­”æ–¹å…­é¢</p>
            </div>
          </div>
          <div class="workflow-arrow">â†’</div>
          <div class="workflow-step-h">
            <div class="step-icon">ğŸ”§</div>
            <div class="step-info">
              <span class="step-num">02</span>
              <h4>é¢„å¤„ç†</h4>
              <p>640Ã—640 + å½’ä¸€åŒ–</p>
            </div>
          </div>
          <div class="workflow-arrow">â†’</div>
          <div class="workflow-step-h">
            <div class="step-icon">ğŸ¤–</div>
            <div class="step-info">
              <span class="step-num">03</span>
              <h4>YOLOv8æ¨ç†</h4>
              <p>9è‰²å—æ£€æµ‹</p>
            </div>
          </div>
          <div class="workflow-arrow">â†’</div>
          <div class="workflow-step-h">
            <div class="step-icon">ğŸ“Š</div>
            <div class="step-info">
              <span class="step-num">04</span>
              <h4>ç©ºé—´æ’åº</h4>
              <p>3Ã—3çŸ©é˜µæ˜ å°„</p>
            </div>
          </div>
          <div class="workflow-arrow">â†’</div>
          <div class="workflow-step-h">
            <div class="step-icon">âœ…</div>
            <div class="step-info">
              <span class="step-num">05</span>
              <h4>çŠ¶æ€éªŒè¯</h4>
              <p>å¯è§£æ€§æ£€æŸ¥</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Training Details -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">CubeMaster æ¨¡å‹è®­ç»ƒ</h2>
        <div class="training-details">
          <div class="detail-card">
            <h3><span class="detail-icon">ğŸ“Š</span> æ•°æ®é›†æ„æˆ</h3>
            <ul>
              <li>
                <strong>200 å¼ æ ‡æ³¨å›¾åƒ</strong>ï¼šæ¶µç›–ä¸åŒå…‰ç…§ã€è§’åº¦ã€èƒŒæ™¯æ¡ä»¶
              </li>
              <li>
                <strong>6 ä¸ªé¢œè‰²ç±»åˆ«</strong
                >ï¼šç™½(W)ã€çº¢(R)ã€è“(B)ã€æ©™(O)ã€ç»¿(G)ã€é»„(Y)
              </li>
              <li>
                <strong>æ•°æ®å¢å¼º</strong
                >ï¼šéšæœºæ—‹è½¬ã€äº®åº¦è°ƒæ•´ã€æ·»åŠ å™ªå£°ã€æ¨¡æ‹Ÿé˜´å½±
              </li>
              <li><strong>æ ‡æ³¨å·¥å…·</strong>ï¼šRoboflow å¹³å°åŠè‡ªåŠ¨æ ‡æ³¨æµç¨‹</li>
            </ul>
          </div>
          <div class="detail-card">
            <h3><span class="detail-icon">âš¡</span> è®­ç»ƒå‚æ•°</h3>
            <ul>
              <li><strong>åŸºç¡€æ¨¡å‹</strong>ï¼šYOLOv8n (Nano ç‰ˆæœ¬)</li>
              <li>
                <strong>è®­ç»ƒè½®æ¬¡</strong>ï¼š100 epochsï¼Œæ—©åœç­–ç•¥ (patience=20)
              </li>
              <li>
                <strong>ä¼˜åŒ–å™¨</strong>ï¼šAdamWï¼Œå­¦ä¹ ç‡ 0.001ï¼Œä½™å¼¦é€€ç«è°ƒåº¦
              </li>
              <li>
                <strong>æŸå¤±å‡½æ•°</strong>ï¼šåˆ†ç±»æŸå¤± + å®šä½æŸå¤± + ç½®ä¿¡åº¦æŸå¤±
              </li>
            </ul>
          </div>
          <div class="detail-card">
            <h3><span class="detail-icon">ğŸ“ˆ</span> æ€§èƒ½æŒ‡æ ‡</h3>
            <ul>
              <li><strong>mAP@0.5</strong>ï¼š0.982 (å¹³å‡ç²¾åº¦å‡å€¼)</li>
              <li><strong>æ¨ç†é€Ÿåº¦</strong>ï¼š15ms/å›¾åƒ (NVIDIA RTX 3060)</li>
              <li><strong>æ¨¡å‹å¤§å°</strong>ï¼š6.2MB (é‡åŒ–å 4.8MB)</li>
              <li>
                <strong>éƒ¨ç½²å¹³å°</strong>ï¼šFastAPI + PyTorch + ONNX Runtime
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Integration with Backend -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">CubeMaster åç«¯é›†æˆ</h2>
        <div class="integration-card">
          <div class="code-snippet">
            <div class="snippet-header">Python Â· FastAPI ç«¯ç‚¹</div>
            <pre><code>@app.post("/api/detect")
async def detect_cube_faces(images_data: dict):
    """æ¥æ”¶6ä¸ªé¢çš„base64å›¾åƒï¼Œè¿”å›é­”æ–¹çŠ¶æ€å­—ç¬¦ä¸²"""
    
    # 1. ä¿å­˜ä¸´æ—¶å›¾åƒæ–‡ä»¶
    image_paths = save_base64_images(images_data)
    
    # 2. åŠ è½½YOLOv8æ¨¡å‹
    model = YOLO("models/best.pt")
    
    # 3. æ‰¹é‡æ¨ç†å…­ä¸ªé¢
    face_results = []
    for img_path in image_paths:
        results = model(img_path, conf=0.7)
        colors = extract_colors_from_results(results)
        face_results.append(colors)
    
    # 4. éªŒè¯å’Œè½¬æ¢çŠ¶æ€
    cube_state = validate_and_convert(face_results)
    
    return {"status": "success", "cube_state": cube_state}</code></pre>
          </div>
          <div class="integration-note">
            <h4>å…³é”®è®¾è®¡å†³ç­–</h4>
            <ul>
              <li><strong>æ‰¹å¤„ç†ä¼˜åŒ–</strong>ï¼šå…­ä¸ªé¢å›¾åƒä¸€æ¬¡æ€§é€å…¥æ¨¡å‹</li>
              <li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šæ¨¡å‹åŠ è½½åå¸¸é©»å†…å­˜</li>
              <li><strong>é”™è¯¯æ¢å¤</strong>ï¼šæ£€æµ‹å¤±è´¥æ—¶è‡ªåŠ¨HSVå›é€€</li>
              <li><strong>å¼‚æ­¥æ”¯æŒ</strong>ï¼šFastAPIå¼‚æ­¥ç«¯ç‚¹é«˜å¹¶å‘å“åº”</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Challenges & Solutions -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">CubeMaster æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
        <div class="challenges-grid">
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸŒ“</span>
              <h3>å…‰ç…§ä¸å‡åŒ€</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šè‡ªç„¶å…‰ä¸‹åŒä¸€è‰²å—å‘ˆç°ä¸åŒäº®åº¦ï¼Œå¯¼è‡´åˆ†ç±»é”™è¯¯
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong
              >ï¼šè®­ç»ƒæ•°æ®åŒ…å«æç«¯å…‰ç…§æ¡ä»¶ï¼Œæ¨ç†æ—¶ä½¿ç”¨è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸ”</span>
              <h3>å°ç›®æ ‡æ£€æµ‹</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šé­”æ–¹è‰²å—åœ¨å›¾åƒä¸­å æ¯”å°ï¼Œä¼ ç»Ÿæ£€æµ‹å™¨æ˜“æ¼æ£€
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨é«˜åˆ†è¾¨ç‡è¾“å…¥ (640Ã—640) å’Œ FPN
              ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸ¨</span>
              <h3>é¢œè‰²æ··æ·†</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šæ©™è‰²ä¸çº¢è‰²ã€ç™½è‰²ä¸é»„è‰²åœ¨ç‰¹å®šå…‰çº¿ä¸‹éš¾ä»¥åŒºåˆ†
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šHSV é¢œè‰²ç©ºé—´åˆ†æ + ç¡¬ç¼–ç é¢œè‰²èŒƒå›´éªŒè¯
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">âš¡</span>
              <h3>å®æ—¶æ€§è¦æ±‚</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šç§»åŠ¨ç«¯æˆ–ä½é…è®¾å¤‡æ¨ç†é€Ÿåº¦æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ¨¡å‹é‡åŒ– (FP16/INT8) + ONNX Runtime
              åŠ é€Ÿ
            </p>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <section class="section-block navigation-section" v-animate>
        <h2 class="section-heading text-center">ç»§ç»­æ¢ç´¢</h2>
        <div class="nav-cards">
          <router-link to="/tech/kociemba" class="nav-card">
            <div class="nav-icon">ğŸ§©</div>
            <h3>Kociemba ç®—æ³•</h3>
            <p>é­”æ–¹ä¸¤é˜¶æ®µæ±‚è§£ç®—æ³•åŸç†</p>
          </router-link>
          <router-link to="/tech/threejs" class="nav-card">
            <div class="nav-icon">ğŸ®</div>
            <h3>Three.js 3Dæ¸²æŸ“</h3>
            <p>ç½‘é¡µç«¯å®æ—¶3Dé­”æ–¹äº¤äº’å®ç°</p>
          </router-link>
          <router-link to="/tech/architecture" class="nav-card">
            <div class="nav-icon">ğŸ—ï¸</div>
            <h3>ç³»ç»Ÿæ¶æ„</h3>
            <p>å‰åç«¯åˆ†ç¦»è®¾è®¡ä¸æ•°æ®æµ</p>
          </router-link>
        </div>
      </section>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button
      @click="scrollToTop"
      class="back-to-top-btn"
      :class="{ visible: showBackToTop }"
    >
      <el-icon><ArrowUp /></el-icon>
    </button>

    <!-- å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡† -->
    <div v-if="showImageModal" class="image-modal" @click="closeImagePreview">
      <div class="modal-content" @click.stop>
        <button class="modal-close" @click="closeImagePreview">Ã—</button>
        <img :src="currentImageSrc" alt="é¢„è§ˆå›¾ç‰‡" class="modal-image" />
        <div class="image-caption-modal">YOLOv1 ç½‘ç»œç»“æ„ (CVPR 2016)</div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted, ref } from "vue";
import { useRouter } from "vue-router";
import { ArrowLeft, ArrowUp } from "@element-plus/icons-vue";

const router = useRouter();
const showBackToTop = ref(false);
const showImageModal = ref(false);
const currentImageSrc = ref("");

// æ»šåŠ¨åŠ¨ç”»æŒ‡ä»¤
const vAnimate = {
  mounted: (el) => {
    el.classList.add("before-enter");
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            el.classList.add("enter");
            observer.unobserve(el);
          }
        });
      },
      { threshold: 0.1 },
    );
    observer.observe(el);
  },
};

// è¿”å› About é¡µé¢
const goBackToAbout = () => {
  router.push({ path: "/about", state: { scrollTarget: "tech-docs" } });
};

// è¿”å›é¡¶éƒ¨
const scrollToTop = () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
};

// ç›‘å¬æ»šåŠ¨æ˜¾ç¤ºè¿”å›é¡¶éƒ¨æŒ‰é’®
const handleScroll = () => {
  showBackToTop.value = window.scrollY > 300;
};

// å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
const openImagePreview = (src) => {
  currentImageSrc.value = src;
  showImageModal.value = true;
  document.body.style.overflow = "hidden";
};

const closeImagePreview = () => {
  showImageModal.value = false;
  document.body.style.overflow = "";
};

onMounted(() => {
  window.addEventListener("scroll", handleScroll);
  handleScroll();
});

onUnmounted(() => {
  window.removeEventListener("scroll", handleScroll);
});
</script>

<style scoped>
/* åŸºç¡€é¡µé¢æ ·å¼ */
.tech-doc-page {
  width: 100%;
  min-height: 100vh;
  background-color: #f8fafc;
  font-family: "Inter", sans-serif;
  color: #0f172a;
  padding-bottom: 100px;
  overflow-x: hidden;
}

.page-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 24px;
}

/* åŠ¨ç”»ç±» */
.before-enter {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.enter {
  opacity: 1;
  transform: translateY(0);
}

/* Hero Section (å¤ç”¨ CfopIntro æ ·å¼) */
.hero-section {
  position: relative;
  padding: 80px 0 60px;
  overflow: hidden;
  border-radius: 32px;
  margin-bottom: 60px;
}

.glow-bg {
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.15;
  z-index: 0;
}
.glow-top-right {
  top: -100px;
  right: -100px;
  background: #3b82f6;
}
.glow-bottom-left {
  bottom: -100px;
  left: -100px;
  background: #10b981;
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 800px;
  margin: 0 auto;
}

.badge-pill {
  display: inline-flex;
  align-items: center;
  padding: 6px 16px;
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
  border-radius: 100px;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 24px;
}

.pulse-dot {
  width: 8px;
  height: 8px;
  background: #2563eb;
  border-radius: 50%;
  margin-right: 8px;
  box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(37, 99, 235, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0);
  }
}

.hero-title {
  font-size: 3rem;
  font-weight: 800;
  line-height: 1.1;
  margin-bottom: 24px;
  letter-spacing: -0.02em;
}

.gradient-text {
  background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero-subtitle {
  font-size: 1.25rem;
  color: #64748b;
  line-height: 1.6;
  margin-bottom: 40px;
}

.stats-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
}

.stat-pill {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  color: #334155;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
}

.dot-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}
.dot-indicator.blue {
  background: #3b82f6;
}
.dot-indicator.green {
  background: #10b981;
}
.dot-indicator.purple {
  background: #8b5cf6;
}

/* é€šç”¨ Section */
.section-block {
  margin-bottom: 100px;
}
.section-heading {
  font-size: 2rem;
  font-weight: 800;
  color: #0f172a;
  margin-bottom: 40px;
}
.text-center {
  text-align: center;
}

/* æŠ€æœ¯æ¦‚è§ˆç½‘æ ¼ */
.tech-overview-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
}

.overview-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 30px;
}

@media (max-width: 768px) {
  .overview-grid {
    grid-template-columns: 1fr;
  }
}

.overview-item {
  text-align: center;
}

.overview-icon {
  font-size: 2.5rem;
  margin-bottom: 16px;
}

.overview-item h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #1e293b;
}

.overview-item p {
  color: #64748b;
  line-height: 1.6;
}

/* æ¨ªå‘å·¥ä½œæµç¨‹ */
.workflow-horizontal {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  background: #ffffff;
  border-radius: 24px;
  padding: 30px 20px;
  border: 1px solid #e2e8f0;
}

.workflow-step-h {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background: #f8fafc;
  border-radius: 12px;
  padding: 16px 12px;
  min-width: 100px;
  transition: all 0.3s ease;
}

.workflow-step-h:hover {
  background: #eff6ff;
  transform: translateY(-2px);
}

.step-icon {
  font-size: 1.8rem;
  margin-bottom: 8px;
}

.step-info {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.step-num {
  font-size: 0.7rem;
  font-weight: 700;
  color: #3b82f6;
  background: rgba(59, 130, 246, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
  margin-bottom: 4px;
}

.step-info h4 {
  font-size: 0.9rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0 0 2px 0;
}

.step-info p {
  font-size: 0.75rem;
  color: #64748b;
  margin: 0;
}

.workflow-arrow {
  color: #3b82f6;
  font-size: 1.5rem;
  font-weight: 300;
}

@media (max-width: 992px) {
  .workflow-horizontal {
    gap: 8px;
    padding: 20px 16px;
  }

  .workflow-step-h {
    min-width: 80px;
    padding: 12px 8px;
  }

  .step-icon {
    font-size: 1.5rem;
  }

  .workflow-arrow {
    font-size: 1.2rem;
  }
}

@media (max-width: 768px) {
  .workflow-horizontal {
    flex-direction: column;
    gap: 4px;
  }

  .workflow-step-h {
    flex-direction: row;
    width: 100%;
    min-width: unset;
    padding: 12px 16px;
    text-align: left;
  }

  .step-icon {
    margin-bottom: 0;
    margin-right: 12px;
  }

  .step-info {
    align-items: flex-start;
  }

  .workflow-arrow {
    transform: rotate(90deg);
    font-size: 1rem;
  }
}

/* è®­ç»ƒè¯¦æƒ… */
.training-details {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  text-align: left;
}

@media (max-width: 992px) {
  .training-details {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .training-details {
    grid-template-columns: 1fr;
  }
}

.detail-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
}

.detail-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.detail-card ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.detail-card li {
  margin-bottom: 12px;
  color: #64748b;
  line-height: 1.6;
  padding-left: 0;
}

.detail-card li strong {
  color: #1e293b;
}

/* é›†æˆå¡ç‰‡ */
.integration-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.code-snippet {
  background: #0f172a;
  border-radius: 16px;
  overflow: hidden;
}

.snippet-header {
  background: #1e293b;
  color: #cbd5e1;
  padding: 16px 24px;
  font-size: 14px;
  font-weight: 600;
}

.code-snippet pre {
  margin: 0;
  padding: 24px;
  overflow-x: auto;
  text-align: left;
}

.code-snippet code {
  font-family: "JetBrains Mono", monospace;
  font-size: 14px;
  color: #e2e8f0;
  line-height: 1.6;
  text-align: left;
  display: block;
}

.integration-note {
  background: #f8fafc;
  border-radius: 12px;
  padding: 24px;
  border-left: 4px solid #10b981;
}

.integration-note h4 {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #1e293b;
}

.integration-note ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.integration-note li {
  margin-bottom: 10px;
  color: #475569;
  line-height: 1.6;
  padding-left: 20px;
  position: relative;
}

.integration-note li:before {
  content: "â†’";
  color: #10b981;
  position: absolute;
  left: 0;
}

.integration-note li strong {
  color: #1e293b;
}

.code-snippet {
  background: #0f172a;
  border-radius: 16px;
  overflow: hidden;
  text-align: left;
}

.snippet-header {
  background: #1e293b;
  color: #cbd5e1;
  padding: 16px 24px;
  font-size: 14px;
  font-weight: 600;
}

.code-snippet pre {
  margin: 0;
  padding: 24px;
  overflow-x: auto;
}

.code-snippet code {
  font-family: "JetBrains Mono", monospace;
  font-size: 14px;
  color: #e2e8f0;
  line-height: 1.6;
}

.integration-note h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
}

.integration-note ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.integration-note li {
  margin-bottom: 12px;
  color: #64748b;
  line-height: 1.6;
  padding-left: 0;
}

.integration-note li strong {
  color: #1e293b;
}

/* æŒ‘æˆ˜ç½‘æ ¼ - å›ºå®š2åˆ—å¸ƒå±€ */
.challenges-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
  text-align: left;
}

@media (max-width: 768px) {
  .challenges-grid {
    grid-template-columns: 1fr;
  }
}

.challenge-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
}

.challenge-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.challenge-emoji {
  font-size: 2rem;
}

.challenge-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0;
}

.challenge-card p {
  color: #64748b;
  line-height: 1.6;
  margin-bottom: 12px;
}

/* å¯¼èˆªå¡ç‰‡ */
.navigation-section {
  margin-top: 80px;
}

.nav-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}

@media (max-width: 768px) {
  .nav-cards {
    grid-template-columns: 1fr;
  }
}

.nav-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
  text-decoration: none;
  color: inherit;
  transition: all 0.3s;
  text-align: center;
}

.nav-card:hover {
  transform: translateY(-5px);
  border-color: #3b82f6;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

.nav-icon {
  font-size: 2.5rem;
  margin-bottom: 16px;
}

.nav-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 8px;
  color: #1e293b;
}

.nav-card p {
  color: #64748b;
  font-size: 0.95rem;
}

/* å“åº”å¼ */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.5rem;
  }
  .integration-card {
    grid-template-columns: 1fr;
  }
}

/* æŠ€æœ¯æ–‡æ¡£å¤´éƒ¨å’Œè¿”å›æŒ‰é’® */
.tech-doc-header {
  margin-top: 30px;
  margin-bottom: 20px;
}

.minimal-back-btn {
  background: none;
  border: none;
  display: flex;
  align-items: center;
  gap: 8px;
  color: #94a3b8;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 1px;
  cursor: pointer;
  margin-bottom: 12px;
  transition: color 0.3s;
}
.minimal-back-btn:hover {
  color: #3b82f6;
}

/* è¿”å›é¡¶éƒ¨æŒ‰é’® */
.back-to-top-btn {
  position: fixed;
  bottom: 40px;
  right: 40px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #3b82f6;
  border: none;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s ease;
  z-index: 1000;
}
.back-to-top-btn.visible {
  opacity: 1;
  transform: translateY(0);
}
.back-to-top-btn:hover {
  background: #2563eb;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .back-to-top-btn {
    bottom: 20px;
    right: 20px;
    width: 45px;
    height: 45px;
  }
}

/* ==================== æ–°å¢ Section æ ·å¼ ==================== */

/* ç ”ç©¶èƒŒæ™¯å¡ç‰‡ */
.research-background-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.background-content h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.background-icon {
  font-size: 1.8rem;
}

.background-content p {
  color: #475569;
  line-height: 1.8;
  margin-bottom: 16px;
}

.background-content p strong {
  color: #1e293b;
}

/* æ ¸å¿ƒåŸç†å¡ç‰‡ */
.core-principles-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.principles-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 30px;
}

@media (max-width: 768px) {
  .principles-grid {
    grid-template-columns: 1fr;
  }
}

.principle-item {
  text-align: left;
  padding: 24px;
  background: #f8fafc;
  border-radius: 16px;
  border-left: 4px solid #3b82f6;
}

.principle-icon {
  font-size: 2rem;
  margin-bottom: 12px;
}

.principle-item h3 {
  font-size: 1.15rem;
  font-weight: 700;
  margin-bottom: 10px;
  color: #1e293b;
}

.principle-item p {
  color: #64748b;
  line-height: 1.6;
  font-size: 0.95rem;
}

.principle-item p strong {
  color: #1e293b;
}

/* ç½‘ç»œæ¶æ„å¡ç‰‡ - æ–°å¸ƒå±€ */
.architecture-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.architecture-image-full {
  text-align: center;
  margin-bottom: 30px;
}

.architecture-image {
  max-width: 100%;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  border: 1px solid #e2e8f0;
  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;
  cursor: pointer;
}

.architecture-image:hover {
  transform: translateY(-2px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

.image-caption {
  margin-top: 12px;
  font-size: 14px;
  color: #64748b;
  font-style: italic;
}

.architecture-details-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}

@media (max-width: 768px) {
  .architecture-details-grid {
    grid-template-columns: 1fr;
  }
}

.architecture-detail-item {
  background: #f8fafc;
  border-radius: 16px;
  padding: 24px;
  border-left: 4px solid #3b82f6;
}

.architecture-detail-item h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.detail-icon {
  font-size: 1.5rem;
}

.architecture-detail-item ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.architecture-detail-item li {
  margin-bottom: 10px;
  color: #64748b;
  line-height: 1.5;
  font-size: 0.95rem;
}

.architecture-detail-item li strong {
  color: #1e293b;
}

.architecture-detail-item p {
  color: #475569;
  line-height: 1.6;
  margin-bottom: 8px;
}

.output-tensor {
  background: #f1f5f9;
  padding: 8px 16px;
  border-radius: 8px;
  margin-top: 8px;
}

.output-tensor strong {
  font-size: 1.1rem;
  font-family: "JetBrains Mono", monospace;
}

/* æŸå¤±å‡½æ•°å¡ç‰‡ */
.loss-function-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.loss-function-content h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.formula-icon {
  font-size: 1.8rem;
}

.loss-function-content > p {
  color: #475569;
  line-height: 1.8;
  margin-bottom: 24px;
}

.loss-function-content > p strong {
  color: #1e293b;
}

.formula-total-box {
  background: #f8fafc;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  border: 2px solid #3b82f6;
}

.formula-total-box h4 {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #1e293b;
}

.formula-total {
  font-family: "JetBrains Mono", monospace;
  background: #ffffff;
  padding: 20px;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
}

.formula-line {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
  font-size: 0.95rem;
}

.formula-line.indent {
  padding-left: 48px;
}

.formula-line:last-child {
  margin-bottom: 0;
}

.formula-var {
  font-weight: 700;
  color: #1e293b;
  min-width: 50px;
}

.formula-eq {
  color: #94a3b8;
  font-weight: 600;
}

.formula-plus {
  color: #3b82f6;
  font-weight: 700;
  min-width: 20px;
}

.formula-expr {
  color: #475569;
}

.formula-details {
  margin-bottom: 24px;
}

.formula-details h4 {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #1e293b;
}

.formula-parts {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.formula-part {
  display: flex;
  align-items: center;
  gap: 16px;
  background: #f8fafc;
  padding: 12px 16px;
  border-radius: 12px;
  border-left: 3px solid #8b5cf6;
}

.part-num {
  background: #8b5cf6;
  color: white;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  font-weight: 700;
  flex-shrink: 0;
}

.part-content {
  display: flex;
  align-items: center;
  gap: 16px;
  flex: 1;
}

.part-label {
  font-size: 0.9rem;
  color: #475569;
  font-weight: 600;
  min-width: 120px;
}

.part-formula {
  font-family: "JetBrains Mono", monospace;
  font-size: 0.85rem;
  color: #3b82f6;
  background: #eff6ff;
  padding: 4px 12px;
  border-radius: 6px;
}

.formula-notes {
  background: #f8fafc;
  border-radius: 16px;
  padding: 24px;
  border-left: 4px solid #10b981;
}

.formula-notes h4 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.formula-notes ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.formula-notes li {
  margin-bottom: 12px;
  color: #475569;
  line-height: 1.7;
  padding-left: 24px;
  position: relative;
}

.formula-notes li:before {
  content: "â€¢";
  color: #10b981;
  font-weight: bold;
  position: absolute;
  left: 8px;
}

.formula-notes li strong {
  color: #1e293b;
}

.formula-notes li:before {
  content: "â€¢";
  color: #10b981;
  font-weight: bold;
  position: absolute;
  left: 8px;
}

.formula-notes li strong {
  color: #1e293b;
}

/* æ ¸å¿ƒåŸç† - å†…è”å…¬å¼æ ·å¼ */
.formula-inline {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.formula-inline code {
  font-family: "JetBrains Mono", monospace;
  font-size: 0.85rem;
  color: #3b82f6;
  background: #eff6ff;
  padding: 4px 10px;
  border-radius: 6px;
}

.formula-eq {
  color: #64748b;
  font-weight: 600;
}

/* ä¼˜ç¼ºç‚¹å¡ç‰‡ */
.advantages-limitations-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

.advantages-section,
.limitations-section {
  margin-bottom: 40px;
}

.advantages-section:last-child,
.limitations-section:last-child {
  margin-bottom: 0;
}

.advantages-section h3,
.limitations-section h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 24px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.advantage-icon,
.limitation-icon {
  font-size: 1.8rem;
}

.advantage-grid,
.limitation-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}

@media (max-width: 992px) {
  .advantage-grid,
  .limitation-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .advantage-grid,
  .limitation-grid {
    grid-template-columns: 1fr;
  }
}

.advantage-item,
.limitation-item {
  background: #f8fafc;
  border-radius: 16px;
  padding: 24px;
  border-left: 4px solid #10b981;
}

.limitation-item {
  border-left-color: #ef4444;
}

.advantage-item h4,
.limitation-item h4 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #1e293b;
}

.advantage-item p,
.limitation-item p {
  color: #64748b;
  line-height: 1.6;
}

/* æ¼”è¿›å¡ç‰‡ */
.evolution-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  text-align: left;
}

/* æ¼”è¿›æ—¶é—´çº¿ - Abouté£æ ¼ */
.evolution-timeline-wrapper {
  position: relative;
  max-width: 900px;
  margin: 0 auto;
  padding-left: 60px;
}

.evolution-line {
  position: absolute;
  left: 19px;
  top: 20px;
  bottom: 80px;
  width: 2px;
  background: #e2e8f0;
  z-index: 0;
}

.evolution-timeline {
  display: flex;
  flex-direction: column;
  gap: 30px;
  margin-bottom: 40px;
}

.evolution-node {
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 20px;
}

.evolution-marker {
  position: absolute;
  left: -60px;
  top: 0;
  width: 40px;
  display: flex;
  justify-content: center;
  z-index: 1;
}

.evolution-circle {
  width: 40px;
  height: 40px;
  background: #fff;
  border: 2px solid #e2e8f0;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 16px;
  color: #94a3b8;
  transition: all 0.3s;
}

.evolution-content {
  flex: 1;
}

.evolution-card-item {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  padding: 20px 24px;
  transition: all 0.3s;
}

.evolution-card-item:hover {
  border-color: #3b82f6;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.evolution-card-item:hover .evolution-circle {
  border-color: #3b82f6;
  color: #3b82f6;
  transform: scale(1.1);
}

.evolution-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
}

.evolution-year {
  background: #3b82f6;
  color: white;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 700;
}

.evolution-header h3 {
  font-size: 1.15rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0;
}

.evolution-body p {
  color: #475569;
  line-height: 1.6;
  font-size: 0.95rem;
  margin: 0;
}

.evolution-summary-box {
  background: #f8fafc;
  border-radius: 16px;
  padding: 24px;
  border-left: 4px solid #8b5cf6;
}

.evolution-summary-box h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.summary-icon {
  font-size: 1.5rem;
}

.evolution-summary-box p {
  color: #475569;
  line-height: 1.7;
  margin: 0;
}

.evolution-summary-box p strong {
  color: #1e293b;
}

/* å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡†æ ·å¼ï¼ˆå¤ç”¨ TechArchitecture.vueï¼‰ */
.image-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(5px);
}

.modal-content {
  position: relative;
  max-width: 90%;
  max-height: 90%;
  background: #0f172a;
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 50%;
  color: white;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

.modal-close:hover {
  background: rgba(255, 255, 255, 0.2);
}

.modal-image {
  max-width: 100%;
  max-height: calc(90vh - 100px);
  border-radius: 8px;
  display: block;
  margin: 0 auto;
}

.image-caption-modal {
  text-align: center;
  color: #cbd5e1;
  margin-top: 15px;
  font-size: 14px;
  font-style: italic;
}

@media (max-width: 768px) {
  .modal-content {
    padding: 15px;
    max-width: 95%;
    max-height: 85%;
  }

  .modal-close {
    width: 36px;
    height: 36px;
    font-size: 20px;
  }

  .modal-image {
    max-height: calc(85vh - 80px);
  }

  .image-caption-modal {
    font-size: 13px;
    margin-top: 10px;
  }
}

/* ==================== Dark Mode Styles ==================== */
[data-theme="dark"] .tech-doc-page {
  background-color: var(--dm-bg-page);
  color: var(--dm-text-primary);
}

[data-theme="dark"] .hero-section {
  background: transparent;
}

[data-theme="dark"] .badge-pill {
  background: rgba(59, 130, 246, 0.15);
  color: var(--dm-accent);
}

[data-theme="dark"] .pulse-dot {
  background: var(--dm-accent);
}

[data-theme="dark"] .hero-title {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .gradient-text {
  background: linear-gradient(
    135deg,
    var(--dm-text-primary) 0%,
    var(--dm-accent) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="dark"] .hero-subtitle {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .stat-pill {
  background: var(--dm-glass-bg);
  border-color: var(--dm-glass-border);
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .section-heading {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .tech-overview-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .overview-item h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .overview-item p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .workflow-diagram {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .workflow-step {
  border-bottom-color: var(--dm-border);
}

[data-theme="dark"] .step-content h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .step-content p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .detail-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .detail-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .detail-card li {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .detail-card li strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .integration-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .code-snippet {
  background: #0f172a;
}

[data-theme="dark"] .snippet-header {
  background: #1e293b;
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .code-snippet code {
  color: #e2e8f0;
}

[data-theme="dark"] .integration-note {
  background: var(--dm-bg-hover);
  border-left-color: #10b981;
}

[data-theme="dark"] .integration-note h4 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .integration-note li {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .integration-note li:before {
  color: #10b981;
}

[data-theme="dark"] .integration-note li strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .challenge-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .challenge-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .challenge-card p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .nav-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .nav-card:hover {
  border-color: var(--dm-accent);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .nav-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .nav-card p {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .minimal-back-btn {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .minimal-back-btn:hover {
  color: var(--dm-accent);
}

[data-theme="dark"] .back-to-top-btn {
  background: var(--dm-accent);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .back-to-top-btn:hover {
  background: var(--dm-accent-hover);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

/* ==================== æ–°å¢ Section æ·±è‰²æ¨¡å¼æ ·å¼ ==================== */

[data-theme="dark"] .research-background-card,
[data-theme="dark"] .core-principles-card,
[data-theme="dark"] .architecture-card,
[data-theme="dark"] .loss-function-card,
[data-theme="dark"] .advantages-limitations-card,
[data-theme="dark"] .evolution-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .background-content h3,
[data-theme="dark"] .architecture-details h3,
[data-theme="dark"] .loss-function-content h3,
[data-theme="dark"] .advantages-section h3,
[data-theme="dark"] .limitations-section h3,
[data-theme="dark"] .evolution-summary h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .background-content p,
[data-theme="dark"] .loss-function-content p,
[data-theme="dark"] .evolution-summary p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .background-content p strong,
[data-theme="dark"] .loss-function-content p strong,
[data-theme="dark"] .evolution-summary p strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .principle-item,
[data-theme="dark"] .advantage-item,
[data-theme="dark"] .limitation-item,
[data-theme="dark"] .formula-display,
[data-theme="dark"] .formula-notes,
[data-theme="dark"] .architecture-detail-item {
  background: var(--dm-bg-hover);
}

[data-theme="dark"] .principle-item h3,
[data-theme="dark"] .advantage-item h4,
[data-theme="dark"] .limitation-item h4,
[data-theme="dark"] .formula-display h4,
[data-theme="dark"] .formula-notes h4,
[data-theme="dark"] .architecture-detail-item h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .principle-item p,
[data-theme="dark"] .advantage-item p,
[data-theme="dark"] .limitation-item p,
[data-theme="dark"] .formula-notes li {
  color: var(--dm-text-secondary);
}

/* æ¼”è¿›æ—¶é—´çº¿æ·±è‰²æ¨¡å¼ */
[data-theme="dark"] .evolution-line {
  background: var(--dm-border);
}

[data-theme="dark"] .evolution-circle {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
  color: var(--dm-text-muted);
}

[data-theme="dark"] .evolution-card-item {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .evolution-card-item:hover {
  border-color: var(--dm-accent);
}

[data-theme="dark"] .evolution-card-item:hover .evolution-circle {
  border-color: var(--dm-accent);
  color: var(--dm-accent);
}

[data-theme="dark"] .evolution-year {
  background: var(--dm-accent);
}

[data-theme="dark"] .evolution-header h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .evolution-body p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .evolution-summary-box {
  background: var(--dm-bg-hover);
  border-left-color: #8b5cf6;
}

[data-theme="dark"] .evolution-summary-box h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .evolution-summary-box p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .evolution-summary-box p strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .principle-item p strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .architecture-detail-item li,
[data-theme="dark"] .architecture-detail-item p,
[data-theme="dark"] .formula-notes li strong {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .architecture-detail-item li strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .formula-part {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .part-label {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .part-formula {
  background: var(--dm-bg-hover);
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .formula-legend {
  border-top-color: var(--dm-border);
}

[data-theme="dark"] .formula-legend span {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .image-caption {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .architecture-image {
  border-color: var(--dm-border);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .workflow-horizontal {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .workflow-step-h {
  background: var(--dm-bg-hover);
}

[data-theme="dark"] .workflow-step-h:hover {
  background: rgba(59, 130, 246, 0.1);
}

[data-theme="dark"] .step-num {
  background: rgba(59, 130, 246, 0.2);
}

[data-theme="dark"] .step-info h4 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .step-info p {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .workflow-arrow {
  color: var(--dm-accent);
}

[data-theme="dark"] .formula-total-box {
  background: var(--dm-bg-hover);
  border-color: var(--dm-accent);
}

[data-theme="dark"] .formula-total-box h4 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .formula-total {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .formula-var {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .formula-expr {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .formula-details h4 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .formula-part {
  background: var(--dm-bg-hover);
  border-left-color: #8b5cf6;
}

[data-theme="dark"] .part-label {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .part-formula {
  background: rgba(59, 130, 246, 0.1);
  color: #60a5fa;
}

[data-theme="dark"] .formula-inline code {
  background: rgba(59, 130, 246, 0.1);
  color: #60a5fa;
}

[data-theme="dark"] .output-tensor {
  background: var(--dm-bg-hover);
}

[data-theme="dark"] .output-tensor strong {
  color: var(--dm-text-primary);
}
</style>
