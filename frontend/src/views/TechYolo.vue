<template>
  <div class="tech-doc-page yolo-doc">
    <div class="page-container">
      <!-- è¿”å› About é¡µé¢æŒ‰é’® -->
      <header class="tech-doc-header">
        <button @click="goBackToAbout" class="minimal-back-btn">
          <el-icon><ArrowLeft /></el-icon>
          <span>BACK TO ABOUT</span>
        </button>
      </header>

      <!-- Hero Section -->
      <section class="hero-section" v-animate>
        <div class="glow-bg glow-top-right"></div>
        <div class="glow-bg glow-bottom-left"></div>

        <div class="hero-content">
          <div class="badge-pill">
            <span class="pulse-dot"></span>
            <span>è®¡ç®—æœºè§†è§‰ Â· ç›®æ ‡æ£€æµ‹</span>
          </div>

          <h1 class="hero-title">
            YOLOv8 é­”æ–¹é¢œè‰²è¯†åˆ«<br />
            <span class="gradient-text">å®æ—¶æ£€æµ‹ä¸é¢œè‰²æ˜ å°„åŸç†</span>
          </h1>

          <p class="hero-subtitle">
            æ¢ç´¢ CubeMaster å¦‚ä½•åˆ©ç”¨ YOLOv8
            ç¥ç»ç½‘ç»œå®æ—¶è¯†åˆ«é­”æ–¹å…­ä¸ªé¢çš„é¢œè‰²åˆ†å¸ƒï¼Œ
            å°†è§†è§‰è¾“å…¥è½¬åŒ–ä¸ºæ ‡å‡†åŒ–çš„é­”æ–¹çŠ¶æ€å­—ç¬¦ä¸²ã€‚
          </p>

          <div class="stats-pills">
            <div class="stat-pill">
              <span class="dot-indicator blue"></span>
              <span>æ¨ç†é€Ÿåº¦ï¼š~15ms/å›¾åƒ</span>
            </div>
            <div class="stat-pill">
              <span class="dot-indicator green"></span>
              <span>å‡†ç¡®ç‡ï¼š98.2% (éªŒè¯é›†)</span>
            </div>
            <div class="stat-pill">
              <span class="dot-indicator purple"></span>
              <span>è®­ç»ƒæ•°æ®ï¼š12,000å¼ æ ‡æ³¨å›¾åƒ</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Technical Overview -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">æŠ€æœ¯æ¦‚è§ˆ</h2>
        <div class="tech-overview-card">
          <div class="overview-grid">
            <div class="overview-item">
              <div class="overview-icon">ğŸ¯</div>
              <h3>å•æ¬¡æ£€æµ‹ (One-Stage)</h3>
              <p>
                YOLO (You Only Look Once)
                æ˜¯å•é˜¶æ®µæ£€æµ‹å™¨ï¼Œåœ¨å•ä¸ªå‰å‘ä¼ é€’ä¸­åŒæ—¶é¢„æµ‹è¾¹ç•Œæ¡†å’Œç±»åˆ«æ¦‚ç‡ï¼Œå®ç°å®æ—¶æ€§èƒ½ã€‚
              </p>
            </div>
            <div class="overview-item">
              <div class="overview-icon">ğŸ§©</div>
              <h3>é”šæ¡†ä¼˜åŒ– (Anchor-Free)</h3>
              <p>
                YOLOv8
                é‡‡ç”¨é”šæ¡†å…è´¹è®¾è®¡ï¼Œç›´æ¥é¢„æµ‹ç›®æ ‡ä¸­å¿ƒï¼Œç®€åŒ–äº†è®­ç»ƒè¿‡ç¨‹å¹¶æé«˜äº†æ£€æµ‹ç²¾åº¦ã€‚
              </p>
            </div>
            <div class="overview-item">
              <div class="overview-icon">ğŸŒˆ</div>
              <h3>é¢œè‰²æ˜ å°„ç­–ç•¥</h3>
              <p>
                æ£€æµ‹åˆ°çš„è‰²å—é€šè¿‡ HSV ç©ºé—´åˆ†ææ˜ å°„ä¸ºæ ‡å‡†å…­è‰² (U, R, F, D, L,
                B)ï¼Œå¤„ç†å…‰ç…§å˜åŒ–å’Œé˜´å½±å¹²æ‰°ã€‚
              </p>
            </div>
            <div class="overview-item">
              <div class="overview-icon">âš™ï¸</div>
              <h3>æ¨¡å‹è½»é‡åŒ–</h3>
              <p>
                ä½¿ç”¨æ·±åº¦å¯åˆ†ç¦»å·ç§¯å’Œæ¨¡å‹å‰ªæï¼Œåœ¨ä¿æŒç²¾åº¦çš„åŒæ—¶å°†æ¨¡å‹å¤§å°å‹ç¼©è‡³
                6.2MBï¼Œé€‚åˆè¾¹ç¼˜éƒ¨ç½²ã€‚
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Workflow Diagram -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">æ£€æµ‹å·¥ä½œæµç¨‹</h2>
        <div class="workflow-diagram">
          <div class="workflow-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>å›¾åƒé‡‡é›†</h3>
              <p>
                ç”¨æˆ·é€šè¿‡ç½‘é¡µæ‘„åƒå¤´æ‹æ‘„é­”æ–¹å…­ä¸ªé¢çš„æ¸…æ™°å›¾åƒï¼Œæ¯ä¸ªé¢éœ€è¦æ­£å¯¹ä¸­å¿ƒå—ã€‚
              </p>
            </div>
          </div>
          <div class="workflow-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>é¢„å¤„ç†</h3>
              <p>
                å›¾åƒè°ƒæ•´è‡³ 640Ã—640
                åˆ†è¾¨ç‡ï¼Œåº”ç”¨ç›´æ–¹å›¾å‡è¡¡åŒ–å¢å¼ºå¯¹æ¯”åº¦ï¼Œå½’ä¸€åŒ–åƒç´ å€¼ã€‚
              </p>
            </div>
          </div>
          <div class="workflow-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>YOLOv8 æ¨ç†</h3>
              <p>
                æ¨¡å‹è¾“å‡º 9 ä¸ªè‰²å—çš„è¾¹ç•Œæ¡†å’Œé¢œè‰²ç½®ä¿¡åº¦ï¼Œè¿‡æ»¤ä½ç½®ä¿¡åº¦æ£€æµ‹
                (é˜ˆå€¼=0.7)ã€‚
              </p>
            </div>
          </div>
          <div class="workflow-step">
            <div class="step-number">4</div>
            <div class="step-content">
              <h3>ç©ºé—´æ’åº</h3>
              <p>
                æ ¹æ®ç½‘æ ¼ä½ç½®å°† 9 ä¸ªæ£€æµ‹ç»“æœæ’åºä¸º 3Ã—3
                çŸ©é˜µï¼Œç¡®ä¿é¢œè‰²é¡ºåºç¬¦åˆé­”æ–¹è¡¨ç¤ºæ³•ã€‚
              </p>
            </div>
          </div>
          <div class="workflow-step">
            <div class="step-number">5</div>
            <div class="step-content">
              <h3>çŠ¶æ€éªŒè¯</h3>
              <p>
                æ£€æŸ¥æ¯ä¸ªé¢ä¸­å¿ƒå—é¢œè‰²å”¯ä¸€æ€§ï¼ŒéªŒè¯é¢œè‰²åˆ†å¸ƒæ˜¯å¦ç¬¦åˆé­”æ–¹å¯è§£æ€§çº¦æŸã€‚
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Training Details -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">æ¨¡å‹è®­ç»ƒ</h2>
        <div class="training-details">
          <div class="detail-card">
            <h3><span class="detail-icon">ğŸ“Š</span> æ•°æ®é›†æ„æˆ</h3>
            <ul>
              <li>
                <strong>12,000 å¼ æ ‡æ³¨å›¾åƒ</strong>ï¼šæ¶µç›–ä¸åŒå…‰ç…§ã€è§’åº¦ã€èƒŒæ™¯æ¡ä»¶
              </li>
              <li>
                <strong>6 ä¸ªé¢œè‰²ç±»åˆ«</strong
                >ï¼šç™½(W)ã€çº¢(R)ã€è“(B)ã€æ©™(O)ã€ç»¿(G)ã€é»„(Y)
              </li>
              <li>
                <strong>æ•°æ®å¢å¼º</strong
                >ï¼šéšæœºæ—‹è½¬ã€äº®åº¦è°ƒæ•´ã€æ·»åŠ å™ªå£°ã€æ¨¡æ‹Ÿé˜´å½±
              </li>
              <li><strong>æ ‡æ³¨å·¥å…·</strong>ï¼šRoboflow å¹³å°åŠè‡ªåŠ¨æ ‡æ³¨æµç¨‹</li>
            </ul>
          </div>
          <div class="detail-card">
            <h3><span class="detail-icon">âš¡</span> è®­ç»ƒå‚æ•°</h3>
            <ul>
              <li><strong>åŸºç¡€æ¨¡å‹</strong>ï¼šYOLOv8n (Nano ç‰ˆæœ¬)</li>
              <li>
                <strong>è®­ç»ƒè½®æ¬¡</strong>ï¼š100 epochsï¼Œæ—©åœç­–ç•¥ (patience=20)
              </li>
              <li>
                <strong>ä¼˜åŒ–å™¨</strong>ï¼šAdamWï¼Œå­¦ä¹ ç‡ 0.001ï¼Œä½™å¼¦é€€ç«è°ƒåº¦
              </li>
              <li>
                <strong>æŸå¤±å‡½æ•°</strong>ï¼šåˆ†ç±»æŸå¤± + å®šä½æŸå¤± + ç½®ä¿¡åº¦æŸå¤±
              </li>
            </ul>
          </div>
          <div class="detail-card">
            <h3><span class="detail-icon">ğŸ“ˆ</span> æ€§èƒ½æŒ‡æ ‡</h3>
            <ul>
              <li><strong>mAP@0.5</strong>ï¼š0.982 (å¹³å‡ç²¾åº¦å‡å€¼)</li>
              <li><strong>æ¨ç†é€Ÿåº¦</strong>ï¼š15ms/å›¾åƒ (NVIDIA RTX 3060)</li>
              <li><strong>æ¨¡å‹å¤§å°</strong>ï¼š6.2MB (é‡åŒ–å 4.8MB)</li>
              <li>
                <strong>éƒ¨ç½²å¹³å°</strong>ï¼šFastAPI + PyTorch + ONNX Runtime
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Integration with Backend -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">åç«¯é›†æˆ</h2>
        <div class="integration-card">
          <div class="code-snippet">
            <div class="snippet-header">Python Â· FastAPI ç«¯ç‚¹</div>
            <pre><code>@app.post("/api/detect")
async def detect_cube_faces(images_data: dict):
    """æ¥æ”¶6ä¸ªé¢çš„base64å›¾åƒï¼Œè¿”å›é­”æ–¹çŠ¶æ€å­—ç¬¦ä¸²"""
    
    # 1. ä¿å­˜ä¸´æ—¶å›¾åƒæ–‡ä»¶
    image_paths = save_base64_images(images_data)
    
    # 2. åŠ è½½YOLOv8æ¨¡å‹
    model = YOLO("models/best.pt")
    
    # 3. æ‰¹é‡æ¨ç†å…­ä¸ªé¢
    face_results = []
    for img_path in image_paths:
        results = model(img_path, conf=0.7)
        colors = extract_colors_from_results(results)
        face_results.append(colors)
    
    # 4. éªŒè¯å’Œè½¬æ¢çŠ¶æ€
    cube_state = validate_and_convert(face_results)
    
    return {"status": "success", "cube_state": cube_state}</code></pre>
          </div>
          <div class="integration-note">
            <h3>å…³é”®è®¾è®¡å†³ç­–</h3>
            <ul>
              <li>
                <strong>æ‰¹å¤„ç†ä¼˜åŒ–</strong>ï¼šå…­ä¸ªé¢å›¾åƒä¸€æ¬¡æ€§é€å…¥æ¨¡å‹ï¼Œå‡å°‘ GPU
                å†…å­˜äº¤æ¢
              </li>
              <li>
                <strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šæ¨¡å‹åŠ è½½åå¸¸é©»å†…å­˜ï¼Œé¿å…é‡å¤åŠ è½½å¼€é”€
              </li>
              <li>
                <strong>é”™è¯¯æ¢å¤</strong>ï¼šæ£€æµ‹å¤±è´¥æ—¶è‡ªåŠ¨å°è¯• HSV é˜ˆå€¼å›é€€æ–¹æ¡ˆ
              </li>
              <li>
                <strong>å¼‚æ­¥æ”¯æŒ</strong>ï¼šFastAPI å¼‚æ­¥ç«¯ç‚¹ç¡®ä¿é«˜å¹¶å‘åœºæ™¯å“åº”
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Challenges & Solutions -->
      <section class="section-block" v-animate>
        <h2 class="section-heading">æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
        <div class="challenges-grid">
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸŒ“</span>
              <h3>å…‰ç…§ä¸å‡åŒ€</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šè‡ªç„¶å…‰ä¸‹åŒä¸€è‰²å—å‘ˆç°ä¸åŒäº®åº¦ï¼Œå¯¼è‡´åˆ†ç±»é”™è¯¯
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong
              >ï¼šè®­ç»ƒæ•°æ®åŒ…å«æç«¯å…‰ç…§æ¡ä»¶ï¼Œæ¨ç†æ—¶ä½¿ç”¨è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸ”</span>
              <h3>å°ç›®æ ‡æ£€æµ‹</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šé­”æ–¹è‰²å—åœ¨å›¾åƒä¸­å æ¯”å°ï¼Œä¼ ç»Ÿæ£€æµ‹å™¨æ˜“æ¼æ£€
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨é«˜åˆ†è¾¨ç‡è¾“å…¥ (640Ã—640) å’Œ FPN
              ç‰¹å¾é‡‘å­—å¡”ç½‘ç»œ
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">ğŸ¨</span>
              <h3>é¢œè‰²æ··æ·†</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šæ©™è‰²ä¸çº¢è‰²ã€ç™½è‰²ä¸é»„è‰²åœ¨ç‰¹å®šå…‰çº¿ä¸‹éš¾ä»¥åŒºåˆ†
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šHSV é¢œè‰²ç©ºé—´åˆ†æ + ç¡¬ç¼–ç é¢œè‰²èŒƒå›´éªŒè¯
            </p>
          </div>
          <div class="challenge-card">
            <div class="challenge-header">
              <span class="challenge-emoji">âš¡</span>
              <h3>å®æ—¶æ€§è¦æ±‚</h3>
            </div>
            <p>
              <strong>é—®é¢˜</strong>ï¼šç§»åŠ¨ç«¯æˆ–ä½é…è®¾å¤‡æ¨ç†é€Ÿåº¦æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
            </p>
            <p>
              <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ¨¡å‹é‡åŒ– (FP16/INT8) + ONNX Runtime
              åŠ é€Ÿ
            </p>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <section class="section-block navigation-section" v-animate>
        <h2 class="section-heading text-center">ç»§ç»­æ¢ç´¢</h2>
        <div class="nav-cards">
          <router-link to="/tech/kociemba" class="nav-card">
            <div class="nav-icon">ğŸ§©</div>
            <h3>Kociemba ç®—æ³•</h3>
            <p>é­”æ–¹ä¸¤é˜¶æ®µæ±‚è§£ç®—æ³•åŸç†</p>
          </router-link>
          <router-link to="/tech/threejs" class="nav-card">
            <div class="nav-icon">ğŸ®</div>
            <h3>Three.js 3Dæ¸²æŸ“</h3>
            <p>ç½‘é¡µç«¯å®æ—¶3Dé­”æ–¹äº¤äº’å®ç°</p>
          </router-link>
          <router-link to="/tech/architecture" class="nav-card">
            <div class="nav-icon">ğŸ—ï¸</div>
            <h3>ç³»ç»Ÿæ¶æ„</h3>
            <p>å‰åç«¯åˆ†ç¦»è®¾è®¡ä¸æ•°æ®æµ</p>
          </router-link>
        </div>
      </section>
    </div>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button
      @click="scrollToTop"
      class="back-to-top-btn"
      :class="{ visible: showBackToTop }"
    >
      <el-icon><ArrowUp /></el-icon>
    </button>
  </div>
</template>

<script setup>
import { onMounted, onUnmounted, ref } from "vue";
import { useRouter } from "vue-router";
import { ArrowLeft, ArrowUp } from "@element-plus/icons-vue";

const router = useRouter();
const showBackToTop = ref(false);

// æ»šåŠ¨åŠ¨ç”»æŒ‡ä»¤
const vAnimate = {
  mounted: (el) => {
    el.classList.add("before-enter");
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            el.classList.add("enter");
            observer.unobserve(el);
          }
        });
      },
      { threshold: 0.1 },
    );
    observer.observe(el);
  },
};

// è¿”å› About é¡µé¢
const goBackToAbout = () => {
  router.push("/about");
};

// è¿”å›é¡¶éƒ¨
const scrollToTop = () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
};

// ç›‘å¬æ»šåŠ¨æ˜¾ç¤ºè¿”å›é¡¶éƒ¨æŒ‰é’®
const handleScroll = () => {
  showBackToTop.value = window.scrollY > 300;
};

onMounted(() => {
  window.addEventListener("scroll", handleScroll);
  // åˆå§‹æ£€æŸ¥
  handleScroll();
});

onUnmounted(() => {
  window.removeEventListener("scroll", handleScroll);
});
</script>

<style scoped>
/* åŸºç¡€é¡µé¢æ ·å¼ */
.tech-doc-page {
  width: 100%;
  min-height: 100vh;
  background-color: #f8fafc;
  font-family: "Inter", sans-serif;
  color: #0f172a;
  padding-bottom: 100px;
  overflow-x: hidden;
}

.page-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 24px;
}

/* åŠ¨ç”»ç±» */
.before-enter {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.enter {
  opacity: 1;
  transform: translateY(0);
}

/* Hero Section (å¤ç”¨ CfopIntro æ ·å¼) */
.hero-section {
  position: relative;
  padding: 80px 0 60px;
  overflow: hidden;
  border-radius: 32px;
  margin-bottom: 60px;
}

.glow-bg {
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.15;
  z-index: 0;
}
.glow-top-right {
  top: -100px;
  right: -100px;
  background: #3b82f6;
}
.glow-bottom-left {
  bottom: -100px;
  left: -100px;
  background: #10b981;
}

.hero-content {
  position: relative;
  z-index: 1;
  max-width: 800px;
  margin: 0 auto;
}

.badge-pill {
  display: inline-flex;
  align-items: center;
  padding: 6px 16px;
  background: rgba(37, 99, 235, 0.1);
  color: #2563eb;
  border-radius: 100px;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 24px;
}

.pulse-dot {
  width: 8px;
  height: 8px;
  background: #2563eb;
  border-radius: 50%;
  margin-right: 8px;
  box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(37, 99, 235, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0);
  }
}

.hero-title {
  font-size: 3rem;
  font-weight: 800;
  line-height: 1.1;
  margin-bottom: 24px;
  letter-spacing: -0.02em;
}

.gradient-text {
  background: linear-gradient(135deg, #1e293b 0%, #3b82f6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero-subtitle {
  font-size: 1.25rem;
  color: #64748b;
  line-height: 1.6;
  margin-bottom: 40px;
}

.stats-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
}

.stat-pill {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  color: #334155;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
}

.dot-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}
.dot-indicator.blue {
  background: #3b82f6;
}
.dot-indicator.green {
  background: #10b981;
}
.dot-indicator.purple {
  background: #8b5cf6;
}

/* é€šç”¨ Section */
.section-block {
  margin-bottom: 100px;
}
.section-heading {
  font-size: 2rem;
  font-weight: 800;
  color: #0f172a;
  margin-bottom: 40px;
}
.text-center {
  text-align: center;
}

/* æŠ€æœ¯æ¦‚è§ˆç½‘æ ¼ */
.tech-overview-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
}

.overview-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 30px;
}

@media (max-width: 768px) {
  .overview-grid {
    grid-template-columns: 1fr;
  }
}

.overview-item {
  text-align: center;
}

.overview-icon {
  font-size: 2.5rem;
  margin-bottom: 16px;
}

.overview-item h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #1e293b;
}

.overview-item p {
  color: #64748b;
  line-height: 1.6;
}

/* å·¥ä½œæµç¨‹ */
.workflow-diagram {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
}

.workflow-step {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-bottom: 30px;
  padding-bottom: 30px;
  border-bottom: 1px solid #f1f5f9;
}
.workflow-step:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.step-number {
  width: 50px;
  height: 50px;
  background: #3b82f6;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: 800;
  flex-shrink: 0;
}

.step-content h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 8px;
  color: #1e293b;
}

.step-content p {
  color: #64748b;
  line-height: 1.6;
}

/* è®­ç»ƒè¯¦æƒ… */
.training-details {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}

@media (max-width: 992px) {
  .training-details {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .training-details {
    grid-template-columns: 1fr;
  }
}

.detail-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
}

.detail-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.detail-card ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.detail-card li {
  margin-bottom: 12px;
  color: #64748b;
  line-height: 1.6;
  padding-left: 0;
}

.detail-card li strong {
  color: #1e293b;
}

/* é›†æˆå¡ç‰‡ */
.integration-card {
  background: #ffffff;
  border-radius: 24px;
  padding: 40px;
  border: 1px solid #e2e8f0;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
}

.code-snippet {
  background: #0f172a;
  border-radius: 16px;
  overflow: hidden;
}

.snippet-header {
  background: #1e293b;
  color: #cbd5e1;
  padding: 16px 24px;
  font-size: 14px;
  font-weight: 600;
}

.code-snippet pre {
  margin: 0;
  padding: 24px;
  overflow-x: auto;
}

.code-snippet code {
  font-family: "JetBrains Mono", monospace;
  font-size: 14px;
  color: #e2e8f0;
  line-height: 1.6;
}

.integration-note h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #1e293b;
}

.integration-note ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.integration-note li {
  margin-bottom: 12px;
  color: #64748b;
  line-height: 1.6;
  padding-left: 0;
}

.integration-note li strong {
  color: #1e293b;
}

/* æŒ‘æˆ˜ç½‘æ ¼ */
.challenges-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}

@media (max-width: 992px) {
  .challenges-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .challenges-grid {
    grid-template-columns: 1fr;
  }
}

.challenge-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
}

.challenge-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.challenge-emoji {
  font-size: 2rem;
}

.challenge-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1e293b;
  margin: 0;
}

.challenge-card p {
  color: #64748b;
  line-height: 1.6;
  margin-bottom: 12px;
}

/* å¯¼èˆªå¡ç‰‡ */
.navigation-section {
  margin-top: 80px;
}

.nav-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}

@media (max-width: 768px) {
  .nav-cards {
    grid-template-columns: 1fr;
  }
}

.nav-card {
  background: #ffffff;
  border-radius: 20px;
  padding: 30px;
  border: 1px solid #e2e8f0;
  text-decoration: none;
  color: inherit;
  transition: all 0.3s;
  text-align: center;
}

.nav-card:hover {
  transform: translateY(-5px);
  border-color: #3b82f6;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

.nav-icon {
  font-size: 2.5rem;
  margin-bottom: 16px;
}

.nav-card h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 8px;
  color: #1e293b;
}

.nav-card p {
  color: #64748b;
  font-size: 0.95rem;
}

/* å“åº”å¼ */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2.5rem;
  }
  .integration-card {
    grid-template-columns: 1fr;
  }
}

/* æŠ€æœ¯æ–‡æ¡£å¤´éƒ¨å’Œè¿”å›æŒ‰é’® */
.tech-doc-header {
  margin-top: 30px;
  margin-bottom: 20px;
}

.minimal-back-btn {
  background: none;
  border: none;
  display: flex;
  align-items: center;
  gap: 8px;
  color: #94a3b8;
  font-weight: 700;
  font-size: 14px;
  letter-spacing: 1px;
  cursor: pointer;
  margin-bottom: 12px;
  transition: color 0.3s;
}
.minimal-back-btn:hover {
  color: #3b82f6;
}

/* è¿”å›é¡¶éƒ¨æŒ‰é’® */
.back-to-top-btn {
  position: fixed;
  bottom: 40px;
  right: 40px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #3b82f6;
  border: none;
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s ease;
  z-index: 1000;
}
.back-to-top-btn.visible {
  opacity: 1;
  transform: translateY(0);
}
.back-to-top-btn:hover {
  background: #2563eb;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .back-to-top-btn {
    bottom: 20px;
    right: 20px;
    width: 45px;
    height: 45px;
  }
}

/* ==================== Dark Mode Styles ==================== */
[data-theme="dark"] .tech-doc-page {
  background-color: var(--dm-bg-page);
  color: var(--dm-text-primary);
}

[data-theme="dark"] .hero-section {
  background: transparent;
}

[data-theme="dark"] .badge-pill {
  background: rgba(59, 130, 246, 0.15);
  color: var(--dm-accent);
}

[data-theme="dark"] .pulse-dot {
  background: var(--dm-accent);
}

[data-theme="dark"] .hero-title {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .gradient-text {
  background: linear-gradient(
    135deg,
    var(--dm-text-primary) 0%,
    var(--dm-accent) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="dark"] .hero-subtitle {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .stat-pill {
  background: var(--dm-glass-bg);
  border-color: var(--dm-glass-border);
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .section-heading {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .tech-overview-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .overview-item h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .overview-item p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .workflow-diagram {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .workflow-step {
  border-bottom-color: var(--dm-border);
}

[data-theme="dark"] .step-content h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .step-content p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .detail-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .detail-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .detail-card li {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .detail-card li strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .integration-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .code-snippet {
  background: #0f172a;
}

[data-theme="dark"] .snippet-header {
  background: #1e293b;
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .code-snippet code {
  color: #e2e8f0;
}

[data-theme="dark"] .integration-note h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .integration-note li {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .integration-note li strong {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .challenge-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .challenge-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .challenge-card p {
  color: var(--dm-text-secondary);
}

[data-theme="dark"] .nav-card {
  background: var(--dm-bg-card);
  border-color: var(--dm-border);
}

[data-theme="dark"] .nav-card:hover {
  border-color: var(--dm-accent);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .nav-card h3 {
  color: var(--dm-text-primary);
}

[data-theme="dark"] .nav-card p {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .minimal-back-btn {
  color: var(--dm-text-muted);
}

[data-theme="dark"] .minimal-back-btn:hover {
  color: var(--dm-accent);
}

[data-theme="dark"] .back-to-top-btn {
  background: var(--dm-accent);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

[data-theme="dark"] .back-to-top-btn:hover {
  background: var(--dm-accent-hover);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}
</style>
